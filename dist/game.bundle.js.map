{"version":3,"sources":["webpack:///./src/game/assets/tileset.png","webpack:///./src/game/assets/ficha_1.png","webpack:///./src/game/assets/ficha_2.png","webpack:///./src/game/assets/ficha_3.png","webpack:///./src/game/assets/ficha_4.png","webpack:///./src/game/assets/flip.png","webpack:///./src/game/assets/overlay.png","webpack:///./src/game/assets/overlay2.png","webpack:///./src/game/assets/fondo_titulo.png","webpack:///./src/game/assets/b_jugar.png","webpack:///./src/game/assets/over_dau.png","webpack:///./src/game/assets/game_over.png","webpack:///./src/game/scenes/PlayScene.js","webpack:///./src/game/scenes/BootScene.js","webpack:///./src/game/game.js"],"names":["module","exports","__webpack_require__","p","th","tiles","map","BootScene","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","key","load","image","tile_set","fitxa_y","fitxa_b","fitxa_r","fitxa_g","flip","overlay","overlay2","fondo","boton_jugar","over_dau","game_over","add","setOrigin","first","boto1","sprite","setInteractive","setScale","on","pointer","escenaJoc","scene","get","destroy","restart","start","clearTint","setTint","Scene","height","width","nomJugadors","taula_dany","element","nJugadors","fitxesSprite","fitxes","taulaPuntuacio","taulerAmplada","taulerAlcada","tauler","nDau","casellaPosible","cruzeta","viu","midaTile","jugadorAct","puntuacio","potMoure","overTirar","fiJoc","coordenades","x","y","PlayScene","i","console","log","j","push","Phaser","Math","Between","make","tilemap","data","tileWidth","tileHeight","addTilesetImage","createStaticLayer","in_jugador","text","String","fontSize","fill","mostra_dau","input","posicio","spriteMoure","nouPosX","nouPosY","posX","casellaTauler","casellaX","casellaY","posXraw","posYraw","posClickXraw","posClickYraw","numDau","posClickX","floor","posClickY","posY","pot","pot_moure","setDepth","setText","seg_jugador","tira_dau","tipus","nJugador","arguments","length","undefined","nouSprite","dibuixa_overlay","scaleX","scaleY","final","fontFamily","color","numIteracio","text_mort","setStroke","ultim","vius","ultimViu","pantallaEnd","splash","mostra_resultat","game_end","mata","posible","posXtauler","posYtauler","over","marca_posible","jugador","launch","Game","type","AUTO","zoom","parent","d","__webpack_exports__"],"mappings":"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","file":"game.bundle.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/tileset.png\";","module.exports = __webpack_public_path__ + \"images/ficha_1.png\";","module.exports = __webpack_public_path__ + \"images/ficha_2.png\";","module.exports = __webpack_public_path__ + \"images/ficha_3.png\";","module.exports = __webpack_public_path__ + \"images/ficha_4.png\";","module.exports = __webpack_public_path__ + \"images/flip.png\";","module.exports = __webpack_public_path__ + \"images/overlay.png\";","module.exports = __webpack_public_path__ + \"images/overlay2.png\";","module.exports = __webpack_public_path__ + \"images/fondo_titulo.png\";","module.exports = __webpack_public_path__ + \"images/b_jugar.png\";","module.exports = __webpack_public_path__ + \"images/over_dau.png\";","module.exports = __webpack_public_path__ + \"images/game_over.png\";","import { Scene } from 'phaser';\r\nlet height = 576;\r\nlet width = 960;\r\nlet nomJugadors = [\"TERRA\", \"AIGUA\", \"AIRE\", \"FOC\"];\r\n//TAULA DANY Jugador amb (terra, aigua, aire, foc)\r\nlet taula_dany = [[2, 5, -2, 1], //Jugador Terra\r\n                  [-2, 2, 1, 5], //Jugador Aigua\r\n                  [5, 1, 2, -2], //Jugador Aire\r\n                  [1, -2, 5, 2]];  //Jugador Foc\r\nlet TERRA = 0;\r\nlet AIGUA = 1;\r\nlet AIRE = 2;\r\nlet FOC = 3;\r\nlet element = [\"TERRA\", \"AIGUA\", \"AIRE\", \"FOC\"];\r\nlet th;\r\nlet nJugadors = 4;\r\nlet fitxesSprite = [];\r\nlet fitxes = [];\r\nlet taulaPuntuacio = [];\r\nlet taulerAmplada = 15\r\nlet taulerAlcada = 9\r\nlet tauler = [];\r\nlet tiles;\r\nlet layer;\r\nlet map;\r\nlet nDau = 0;\r\n\r\nlet casellaPosible = [];\r\nlet cruzeta = [];\r\nlet viu = []\r\n\r\nlet midaTile = 64;\r\nlet jugadorAct = 0;\r\nlet puntuacio = [];\r\nlet potMoure = false;\r\nlet overTirar = [];\r\nlet fiJoc = false;\r\n\r\nfunction coordenades(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n}\r\n\r\nexport default class PlayScene extends Scene {\r\n  constructor () {\r\n    super({ key: 'PlayScene' });\r\n  }\r\n\r\n  create () {\r\n    //INICIALITZA VARIABLES\r\n    fitxesSprite = [];\r\n    fitxes = [];\r\n    taulaPuntuacio = [];\r\n    tauler = [];\r\n    nDau = 0;\r\n    casellaPosible = [];\r\n    cruzeta = [];\r\n    viu = []\r\n    jugadorAct = 0;\r\n    puntuacio = [];\r\n    potMoure = false;\r\n    overTirar = [];\r\n    fiJoc = false;\r\n    console.log(\"Starting PlayScene ...\");\r\n    //let i = this.add.image(400, 300, 'tile_set');\r\n\t // Load a map from a 2D array of tile indices\r\n   th = this;\r\n\t let i;\r\n   //Crear Tauler\r\n\t for ( i = 0; i < taulerAlcada; i ++){\r\n\t\t let j;\r\n\t\t tauler[i] = [];\r\n\t\t for ( j = 0; j <  taulerAmplada; j ++){\r\n\t\t\ttauler[i].push(Phaser.Math.Between(0, 3));\r\n\t\t\tif ( i == 0 || i == taulerAlcada - 1){\r\n\t\t\t\ttauler[i][j] = 5;\r\n\t\t\t}\r\n\t\t }\r\n\t }\r\n   //Caselles Posibles\r\n   for ( i = 0; i <= taulerAmplada; i++) {\r\n     casellaPosible[i] = [];\r\n     let j;\r\n     for ( j = 0; j < taulerAmplada; j ++){\r\n       casellaPosible[i].push(true);\r\n       if ( j == 1 || j == taulerAlcada){\r\n         casellaPosible[i][j] = false;\r\n \t\t\t}\r\n     }\r\n   }\r\n\t tauler[0][0] = 4;\r\n\t tauler[0][taulerAmplada - 1] = 4;\r\n\t tauler[taulerAlcada - 1][0] = 4;\r\n\t tauler[taulerAlcada - 1][taulerAmplada - 1] = 4;\r\n\r\n   fitxes.push(new coordenades(0, 0));\r\n   fitxes.push(new coordenades(0, taulerAmplada - 1));\r\n   fitxes.push(new coordenades(taulerAlcada - 1, 0));\r\n   fitxes.push(new coordenades(taulerAlcada - 1, taulerAmplada -1));\r\n\r\n\t// When loading from an array, make sure to specify the tileWidth and tileHeight\r\n\tmap = this.make.tilemap({ data: tauler, tileWidth: midaTile, tileHeight: midaTile });\r\n\ttiles = map.addTilesetImage('tile_set');\r\n\tlayer = map.createStaticLayer(0, tiles);\r\n\r\n  //Crea els sprites de jugadors\r\n  for (i = 0; i < nJugadors; i++) {\r\n    var nouSprite;\r\n    switch (i) {\r\n      case 0:\r\n        in_jugador(midaTile, midaTile, 'fitxa_g', 0);\r\n        taulaPuntuacio.push(this.add.text(midaTile, midaTile/2, \"Punts: \" + String(puntuacio[0]), { fontSize: '32px', fill: '#000' }));\r\n        break;\r\n      case 1:\r\n        in_jugador(taulerAmplada * midaTile, midaTile, 'fitxa_b', 1);\r\n        taulaPuntuacio.push(this.add.text(taulerAmplada * midaTile - midaTile * 4, midaTile/2, \"Punts: \" + String(puntuacio[1]), { fontSize: '32px', fill: '#000' }))\r\n        break;\r\n      case 2:\r\n        in_jugador(midaTile, taulerAlcada * midaTile, 'fitxa_y', 2);\r\n        taulaPuntuacio.push(this.add.text(midaTile, taulerAlcada * midaTile - midaTile /2, \"Punts: \" + String(puntuacio[2]), { fontSize: '32px', fill: '#000' }))\r\n        break;\r\n      case 3:\r\n        in_jugador(taulerAmplada * midaTile, taulerAlcada * midaTile, 'fitxa_r', 3);\r\n        taulaPuntuacio.push(this.add.text(taulerAmplada * midaTile - midaTile * 4, taulerAlcada * midaTile - midaTile / 2, \"Punts: \" + String(puntuacio[3]), { fontSize: '32px', fill: '#000' }))\r\n        break;\r\n    }\r\n  }\r\n  mostra_dau();\r\n  this.input.on('pointerdown', function (pointer) {\r\n      if (!fiJoc){\r\n        if (potMoure){\r\n          if (pot_moure(fitxesSprite[jugadorAct].x, fitxesSprite[jugadorAct].y, pointer.x, pointer.y)){\r\n          //if (true){\r\n            //game_end(1);\r\n            //console.log(\"HAURIA DE  MMOURE\");\r\n            mou(jugadorAct, pointer);\r\n          }\r\n        }\r\n        else{\r\n          tira_dau();\r\n        }\r\n      }\r\n      else {\r\n        fiJoc = true;\r\n        th.scene.start('BootScene');\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  update () {\r\n\r\n  }\r\n\r\n}\r\n\r\n  function in_jugador(posX, posY, tipus, nJugador = 0){\r\n    var nouSprite = th.add.image(posX, posY, tipus);\r\n    if (nJugador % 2 == 0){\r\n      th.add.text(posX, posY - midaTile, element[nJugador], { fontSize: '32px', fill: '#000' });\r\n    }\r\n    else{\r\n      th.add.text(posX - midaTile * 4, posY - midaTile, element[nJugador], { fontSize: '32px', fill: '#000' });\r\n    }\r\n    nouSprite.setScale(.25);\r\n    nouSprite.setOrigin(1);\r\n    fitxesSprite.push(nouSprite);\r\n    puntuacio.push(0);\r\n    viu.push(true);\r\n  }\r\n\r\n  function seg_jugador(){\r\n    jugadorAct += 1;\r\n    while ((jugadorAct >= nJugadors) || (!viu[jugadorAct])) {\r\n      jugadorAct += 1\r\n      if (jugadorAct >= nJugadors) {\r\n        jugadorAct = 0;\r\n      }\r\n    }\r\n    console.log(\"JUGADRO ACTUAL \" + element[jugadorAct]);\r\n  }\r\n\r\n  function mou (jugador, posicio) {\r\n    var spriteMoure = fitxesSprite[jugador]\r\n    var nouPosX = (Math.floor(posicio.x / midaTile) + 1);\r\n    var nouPosY = (Math.floor(posicio.y / midaTile) + 1);\r\n    if ( casellaPosible[nouPosX][nouPosY] ) {\r\n      casellaPosible[nouPosX][nouPosY] = false;\r\n      flip_casella(nouPosX * midaTile, nouPosY * midaTile);\r\n      calcula_dany(nouPosX, nouPosY);\r\n      spriteMoure.x = nouPosX * midaTile;\r\n      spriteMoure.y = nouPosY * midaTile;\r\n      spriteMoure.setDepth(1);\r\n      seg_jugador();\r\n      mostra_dau();\r\n    }\r\n  }\r\n\r\n  function flip_casella (casellaX, casellaY) {\r\n    th.add.image(casellaX - midaTile / 2, casellaY - midaTile / 2 , 'flip').setDepth(0);\r\n  }\r\n\r\n  function marca_posible(casellaX, casellaY, numDau = 3, numIteracio = 1) {\r\n    var posible = false;\r\n    var posXtauler = (Math.floor(casellaX / midaTile));\r\n    var posYtauler = (Math.floor(casellaY / midaTile));\r\n    for (var i = 0; i < cruzeta.length; i++) {\r\n      cruzeta[i].destroy();\r\n    }\r\n    //MARCA LA CASELLA\r\n    var over = th.add.image(casellaX, casellaY, 'overlay');\r\n    over.setOrigin(1);\r\n    over.setScale(1)\r\n    cruzeta.push(over);\r\n\r\n    //MOVIMENT POSIBLE VERTICAL ADALT\r\n    if (posYtauler - numDau > 1 && casellaPosible[posXtauler][posYtauler - numDau]){ // FUNCIONA\r\n      dibuixa_overlay(casellaX, casellaY - midaTile, 1, numDau, false);\r\n      posible = true;\r\n    }\r\n    //MOVIMENT POSIBLE VERTICAL ABAIX\r\n    if (posYtauler + numDau < taulerAlcada && casellaPosible[posXtauler][posYtauler + numDau]){ //FUNCIONA\r\n      dibuixa_overlay(casellaX, casellaY + (numDau * midaTile), 1, numDau);\r\n      posible = true;\r\n    }\r\n    //MOVIMENT POSIBLE HORITZONTAL ESQUERRA\r\n    if (posXtauler - numDau > 0 && casellaPosible[posXtauler - numDau][posYtauler]){\r\n      dibuixa_overlay(casellaX - midaTile, casellaY, numDau, 1, false);\r\n      posible = true;\r\n    }\r\n    //MOVIMENT POSIBLE HORITZONTAL DRETA\r\n    if (posXtauler + numDau <= taulerAmplada && casellaPosible[posXtauler + numDau][posYtauler]){\r\n      dibuixa_overlay(casellaX + (midaTile * numDau), casellaY, numDau);\r\n      posible = true;\r\n    }\r\n    nDau = numDau;\r\n    if (!posible) {\r\n      tira_dau(numIteracio + 1);\r\n    }\r\n}\r\n\r\n  function dibuixa_overlay(posX, posY, scaleX, scaleY = 1, final = true){\r\n    var overlay = th.add.image(posX, posY, 'overlay');\r\n    overlay.setScale(scaleX, scaleY);\r\n    overlay.setOrigin(1);\r\n    cruzeta.push(overlay);\r\n    if (final){\r\n      cruzeta.push(th.add.image(posX, posY, 'overlay2').setOrigin(1));\r\n    }\r\n    else {\r\n      cruzeta.push(th.add.image(posX - (midaTile * (scaleX - 1)), posY - (midaTile * (scaleY - 1)), 'overlay2').setOrigin(1));\r\n    }\r\n  }\r\n\r\n  function mostra_dau(){\r\n    for (var i = 0; i < overTirar.length; i++) {\r\n      overTirar[i].destroy();\r\n    }\r\n    potMoure = false;\r\n    overTirar.push(th.add.image(0, 0, 'over_dau').setOrigin(0).setDepth(2));\r\n    var text = \"Torn del jugador \" + element[jugadorAct];\r\n    overTirar.push(th.add.text(width / 2, 100, text, { fontFamily: 'Arial', fontSize: 45, color: '#ffffff' }).setOrigin(0.5).setDepth(3));\r\n  }\r\n\r\n  function tira_dau(numIteracio = 0){\r\n    var numDau = Phaser.Math.Between(1, 6);\r\n    if (numIteracio){\r\n      numDau = numIteracio;\r\n    }\r\n    for (var i = 0; i < overTirar.length; i++) {\r\n      overTirar[i].destroy();\r\n    }\r\n    var text = String(element[jugadorAct]) + \" pot moure \" + String(numDau) + \" caselles\";\r\n    overTirar.push(th.add.text(width / 2, midaTile / 2, text, { fontFamily: 'Arial', fontSize: 20, color: '#000000' }).setOrigin(0.5));\r\n    potMoure = true;\r\n    if (numIteracio == 7){\r\n      mata();\r\n    }\r\n    else{\r\n      marca_posible(fitxesSprite[jugadorAct].x, fitxesSprite[jugadorAct].y, numDau, numIteracio);\r\n      //nDau = numDau;\r\n    }\r\n    return numDau;\r\n  }\r\n\r\n  function mata(){\r\n    var text_mort = th.add.text(width / 2, height / 2, \"Has mort, Jugador \" + nomJugadors[jugadorAct], { fontFamily: 'Arial', fontSize: 50, color: '#D93025' }).setOrigin(0.5);\r\n    //\tStroke color and thickness\r\n    text_mort.setStroke('#000000', 20)\r\n    text_mort.setDepth(3);\r\n    overTirar.push(text_mort);\r\n\r\n    viu[jugadorAct] = false;\r\n    potMoure = false;\r\n    var vius = 0;\r\n    var ultim;\r\n    for (var i = 0; i < viu.length; i++) {\r\n      if (viu[i]){\r\n        ultim = i;\r\n        vius += 1;\r\n      }\r\n    }\r\n    if (vius < 2){\r\n      game_end(ultim);\r\n    }\r\n    else{\r\n      seg_jugador();\r\n    }\r\n  }\r\n\r\n  function game_end(ultimViu){\r\n    var pantallaEnd = [];\r\n    var splash = th.add.image(0, 0, 'game_over').setOrigin(0);\r\n    splash.setDepth(4);\r\n    pantallaEnd.push(splash);\r\n    pantallaEnd.push(th.add.text(width / 2, 243, \"L'últim jugador viu ha sigut el \" + nomJugadors[ultimViu], { fontFamily: 'Arial', fontSize: 20, color: '#000000' }).setOrigin(0.5));\r\n    pantallaEnd[1].setDepth(4);\r\n    for (var i = 0; i < nJugadors; i++) {\r\n      mostra_resultat(i);\r\n    }\r\n    fiJoc = true;\r\n  }\r\n\r\n  function pot_moure(posXraw, posYraw, posClickXraw, posClickYraw){\r\n    var numDau = nDau;\r\n    var posClickX = (Math.floor(posClickXraw / midaTile) + 1);\r\n    var posClickY = (Math.floor(posClickYraw / midaTile) + 1);\r\n    var posX = (Math.floor(posXraw / midaTile));\r\n    var posY = (Math.floor(posYraw / midaTile));\r\n    console.log(\"CLICK \" + String(posClickX) + \" \" + String(posClickY));\r\n    console.log(\"CASELLA \" + String(posX) + \" \" + String(posY));\r\n    console.log(\"DAU \" + String(nDau));\r\n    var pot = false;\r\n    if (posX + numDau == posClickX && posY == posClickY){\r\n      pot = true;\r\n    }\r\n    else if (posX - numDau == posClickX && posY == posClickY){\r\n      pot = true;\r\n    }\r\n    else if (posX == posClickX && posY + numDau == posClickY){\r\n      pot = true;\r\n    }\r\n    else if (posX == posClickX && posY - numDau == posClickY){\r\n      pot = true;\r\n    }\r\n    console.log(pot);\r\n    return pot;\r\n  }\r\n\r\n  function calcula_dany(posX, posY){\r\n    //console.log(posY);\r\n    //console.log(posX);\r\n    var casellaTauler = tauler[posY - 1][posX - 1];\r\n    //console.log(element[casellaTauler]);\r\n    puntuacio[jugadorAct] += taula_dany[jugadorAct][casellaTauler];\r\n    taulaPuntuacio[jugadorAct].setText(\"Punts: \" + String(puntuacio[jugadorAct]));\r\n    /*if (puntuacio[jugadorAct] < 0){\r\n      mata();\r\n    }*/\r\n    //console.log(puntuacio[jugadorAct]);\r\n  }\r\n\r\n  function mostra_resultat(jugador){\r\n    var posX = 189;\r\n    var posY = 398;\r\n    var offsetX = 289;\r\n    var offsetY = 36;\r\n    th.add.text(posX, posY + (jugador * offsetY), nomJugadors[jugador], { fontFamily: 'Arial', fontSize: 20, color: '#000000' }).setOrigin(0.5).setDepth(5);\r\n    th.add.text(posX + offsetX , posY + (jugador * offsetY), puntuacio[jugador], { fontFamily: 'Arial', fontSize: 20, color: '#000000' }).setOrigin(0.5).setDepth(5);\r\n    th.add.text(posX + offsetX * 2,posY + (jugador * offsetY), \"0\", { fontFamily: 'Arial', fontSize: 20, color: '#000000' }).setOrigin(0.5).setDepth(5);\r\n  }\r\n","import {Scene} from 'phaser'\r\nimport tile_set from '@/game/assets/tileset.png';\r\n//import tile_fitxes from '@/game/assets/tileset_fichas.png';\r\nimport fitxa_y from '@/game/assets/ficha_1.png';\r\nimport fitxa_b from '@/game/assets/ficha_2.png';\r\nimport fitxa_r from '@/game/assets/ficha_3.png';\r\nimport fitxa_g from '@/game/assets/ficha_4.png';\r\nimport flip from '@/game/assets/flip.png';\r\nimport overlay from '@/game/assets/overlay.png';\r\nimport overlay2 from '@/game/assets/overlay2.png';\r\nimport fondo from '@/game/assets/fondo_titulo.png';\r\nimport boton_jugar from '@/game/assets/b_jugar.png';\r\nimport over_dau from '@/game/assets/over_dau.png';\r\nimport game_over from '@/game/assets/game_over.png';\r\n\r\nexport default class BootScene extends Scene {\r\n    constructor() {\r\n        super({key: 'BootScene'})\r\n    }\r\n\r\n    preload() {\r\n  \t\tthis.load.image('tile_set', tile_set);\r\n\r\n      this.load.image('fitxa_y', fitxa_y);\r\n      this.load.image('fitxa_b', fitxa_b);\r\n      this.load.image('fitxa_r', fitxa_r);\r\n      this.load.image('fitxa_g', fitxa_g);\r\n\r\n      this.load.image('flip', flip);\r\n      this.load.image('overlay', overlay);\r\n      this.load.image('overlay2', overlay2);\r\n      this.load.image('fondo', fondo);\r\n      this.load.image('boton_jugar', boton_jugar);\r\n      this.load.image('over_dau', over_dau);\r\n      this.load.image('game_over', game_over);\r\n      // this.load.audio('thud', ['assets/thud.mp3', 'assets/thud.ogg'])\r\n    }\r\n\r\n    create() {\r\n    this.add.image(0, 0, 'fondo').setOrigin(0);\r\n    var height = 576;\r\n    var width = 960;\r\n    var first = true;\r\n\t\tlet boto1 = this.add.sprite(960 / 2, 576 / 2, 'boton_jugar').setInteractive();\r\n    boto1.setScale(0.5);\r\n\t\tlet th = this;\r\n\r\n\t\tboto1.on('pointerdown', function (pointer) {\r\n      if (!first){\r\n        var escenaJoc = th.scene.get('PlayScene');\r\n        escenaJoc.destroy();\r\n        escenaJoc.restart();﻿\r\n      }\r\n\t\t\tth.scene.start('PlayScene');\r\n      first = false;\r\n\t\t});\r\n\r\n\t\tboto1.on('pointerout', function (pointer) {\r\n\t\t\tthis.clearTint();\r\n\t\t});\r\n\r\n\t\tboto1.on('pointerover', function (pointer) {\r\n\t\t\tthis.setTint(0xFF7878);\r\n\t\t});\r\n    }\r\n\r\n}\r\n","import Phaser from 'phaser'\r\nimport BootScene from './scenes/BootScene'\r\nimport PlayScene from './scenes/PlayScene'\r\n\r\nfunction launch() {\r\n    new Phaser.Game({\r\n        type: Phaser.AUTO,\r\n        width: 960,\r\n        height: 576,\r\n\t\t    zoom: 1,\r\n\t\t    //pixelArt: true,\r\n        parent: 'game-container',\r\n        /*physics: {\r\n            default: 'arcade',\r\n            arcade: {\r\n                gravity: {y: 300},\r\n                debug: false\r\n            }\r\n        },*/\r\n        scene: [BootScene, PlayScene]\r\n    })\r\n}\r\n\r\nexport default launch\r\nexport {launch}\r\n"],"sourceRoot":""}