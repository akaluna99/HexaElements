(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1496:function(t,e,i){t.exports=i.p+"images/tileset.png"},1497:function(t,e,i){t.exports=i.p+"images/ficha_1.png"},1498:function(t,e,i){t.exports=i.p+"images/ficha_2.png"},1499:function(t,e,i){t.exports=i.p+"images/ficha_3.png"},1500:function(t,e,i){t.exports=i.p+"images/ficha_4.png"},1501:function(t,e,i){t.exports=i.p+"images/flip.png"},1502:function(t,e,i){t.exports=i.p+"images/overlay.png"},1503:function(t,e,i){t.exports=i.p+"images/overlay2.png"},1504:function(t,e,i){t.exports=i.p+"images/fondo_titulo.png"},1505:function(t,e,i){t.exports=i.p+"images/b_jugar.png"},1506:function(t,e,i){t.exports=i.p+"images/over_dau.png"},1507:function(t,e,i){t.exports=i.p+"images/game_over.png"},1508:function(t,e,i){"use strict";i.r(e);var a,n,o,r=i(197),s=i.n(r),l=i(558),f=i(559),g=i(574),h=i(572),c=i(575),u=i(1496),p=i.n(u),d=i(1497),v=i.n(d),m=i(1498),x=i.n(m),S=i(1499),y=i.n(S),O=i(1500),_=i.n(O),A=i(1501),b=i.n(A),w=i(1502),j=i.n(w),z=i(1503),k=i.n(z),D=i(1504),P=i.n(D),M=i(1505),F=i.n(M),T=i(1506),I=i.n(T),R=i(1507),C=i.n(R),L=function(t){function e(){return Object(l.a)(this,e),Object(g.a)(this,Object(h.a)(e).call(this,{key:"BootScene"}))}return Object(c.a)(e,t),Object(f.a)(e,[{key:"preload",value:function(){this.load.image("tile_set",p.a),this.load.image("fitxa_y",v.a),this.load.image("fitxa_b",x.a),this.load.image("fitxa_r",y.a),this.load.image("fitxa_g",_.a),this.load.image("flip",b.a),this.load.image("overlay",j.a),this.load.image("overlay2",k.a),this.load.image("fondo",P.a),this.load.image("boton_jugar",F.a),this.load.image("over_dau",I.a),this.load.image("game_over",C.a)}},{key:"create",value:function(){this.add.image(0,0,"fondo").setOrigin(0);var t=!0,e=this.add.sprite(480,288,"boton_jugar").setInteractive();e.setScale(.5);var i=this;e.on("pointerdown",function(e){if(!t){var a=i.scene.get("PlayScene");a.destroy(),a.restart()}i.scene.start("PlayScene"),t=!1}),e.on("pointerout",function(t){this.clearTint()}),e.on("pointerover",function(t){this.setTint(16742520)})}}]),e}(r.Scene),U=576,E=960,B=["TERRA","AIGUA","AIRE","FOC"],G=[[2,5,-2,1],[-2,2,1,5],[5,1,2,-2],[1,-2,5,2]],J=["TERRA","AIGUA","AIRE","FOC"],H=4,K=[],W=[],q=[],N=15,Q=9,V=[],X=0,Y=[],Z=[],$=[],tt=64,et=0,it=[],at=!1,nt=[],ot=!1;function rt(t,e){this.x=t,this.y=e}var st=function(t){function e(){return Object(l.a)(this,e),Object(g.a)(this,Object(h.a)(e).call(this,{key:"PlayScene"}))}return Object(c.a)(e,t),Object(f.a)(e,[{key:"create",value:function(){var t;for(K=[],W=[],q=[],V=[],X=0,Y=[],Z=[],$=[],et=0,it=[],at=!1,nt=[],ot=!1,console.log("Starting PlayScene ..."),a=this,t=0;t<Q;t++){var e=void 0;for(V[t]=[],e=0;e<N;e++)V[t].push(Phaser.Math.Between(0,3)),0!=t&&t!=Q-1||(V[t][e]=5)}for(t=0;t<=N;t++){Y[t]=[];var i=void 0;for(i=0;i<N;i++)Y[t].push(!0),1!=i&&i!=Q||(Y[t][i]=!1)}for(V[0][0]=4,V[0][N-1]=4,V[Q-1][0]=4,V[Q-1][N-1]=4,W.push(new rt(0,0)),W.push(new rt(0,N-1)),W.push(new rt(Q-1,0)),W.push(new rt(Q-1,N-1)),o=this.make.tilemap({data:V,tileWidth:tt,tileHeight:tt}),n=o.addTilesetImage("tile_set"),o.createStaticLayer(0,n),t=0;t<H;t++){switch(t){case 0:lt(tt,tt,"fitxa_g",0),q.push(this.add.text(tt,tt/2,"Punts: "+String(it[0]),{fontSize:"32px",fill:"#000"}));break;case 1:lt(N*tt,tt,"fitxa_b",1),q.push(this.add.text(N*tt-4*tt,tt/2,"Punts: "+String(it[1]),{fontSize:"32px",fill:"#000"}));break;case 2:lt(tt,Q*tt,"fitxa_y",2),q.push(this.add.text(tt,Q*tt-tt/2,"Punts: "+String(it[2]),{fontSize:"32px",fill:"#000"}));break;case 3:lt(N*tt,Q*tt,"fitxa_r",3),q.push(this.add.text(N*tt-4*tt,Q*tt-tt/2,"Punts: "+String(it[3]),{fontSize:"32px",fill:"#000"}))}}ht(),this.input.on("pointerdown",function(t){var e,i,n,o,r,s,l,f;ot?(ot=!0,a.scene.start("BootScene")):at?function(t,e,i,a){var n=X,o=Math.floor(i/tt)+1,r=Math.floor(a/tt)+1,s=Math.floor(t/tt),l=Math.floor(e/tt);console.log("CLICK "+String(o)+" "+String(r)),console.log("CASELLA "+String(s)+" "+String(l)),console.log("DAU "+String(X));var f=!1;s+n==o&&l==r?f=!0:s-n==o&&l==r?f=!0:s==o&&l+n==r?f=!0:s==o&&l-n==r&&(f=!0);return console.log(f),f}(K[et].x,K[et].y,t.x,t.y)&&(e=t,i=K[et],n=Math.floor(e.x/tt)+1,o=Math.floor(e.y/tt)+1,Y[n][o]&&(Y[n][o]=!1,l=n*tt,f=o*tt,a.add.image(l-tt/2,f-tt/2,"flip").setDepth(0),r=n,s=V[o-1][r-1],it[et]+=G[et][s],q[et].setText("Punts: "+String(it[et])),i.x=n*tt,i.y=o*tt,i.setDepth(1),ft(),ht())):ct()},this)}},{key:"update",value:function(){}}]),e}(r.Scene);function lt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=a.add.image(t,e,i);n%2==0?a.add.text(t,e-tt,J[n],{fontSize:"32px",fill:"#000"}):a.add.text(t-4*tt,e-tt,J[n],{fontSize:"32px",fill:"#000"}),o.setScale(.25),o.setOrigin(1),K.push(o),it.push(0),$.push(!0)}function ft(){for(et+=1;et>=H||!$[et];)(et+=1)>=H&&(et=0);console.log("JUGADRO ACTUAL "+J[et])}function gt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=a.add.image(t,e,"overlay");r.setScale(i,n),r.setOrigin(1),Z.push(r),o?Z.push(a.add.image(t,e,"overlay2").setOrigin(1)):Z.push(a.add.image(t-tt*(i-1),e-tt*(n-1),"overlay2").setOrigin(1))}function ht(){for(var t=0;t<nt.length;t++)nt[t].destroy();at=!1,nt.push(a.add.image(0,0,"over_dau").setOrigin(0).setDepth(2));var e="Torn del jugador "+J[et];nt.push(a.add.text(E/2,100,e,{fontFamily:"Arial",fontSize:45,color:"#ffffff"}).setOrigin(.5).setDepth(3))}function ct(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Phaser.Math.Between(1,6);t&&(e=t);for(var i=0;i<nt.length;i++)nt[i].destroy();var n=String(J[et])+" pot moure "+String(e)+" caselles";return nt.push(a.add.text(E/2,tt/2,n,{fontFamily:"Arial",fontSize:20,color:"#000000"}).setOrigin(.5)),at=!0,7==t?function(){var t=a.add.text(E/2,U/2,"Has mort, Jugador "+B[et],{fontFamily:"Arial",fontSize:50,color:"#D93025"}).setOrigin(.5);t.setStroke("#000000",20),t.setDepth(3),nt.push(t),$[et]=!1,at=!1;for(var e,i=0,n=0;n<$.length;n++)$[n]&&(e=n,i+=1);i<2?function(t){var e=[],i=a.add.image(0,0,"game_over").setOrigin(0);i.setDepth(4),e.push(i),e.push(a.add.text(E/2,243,"L'Ãºltim jugador viu ha sigut el "+B[t],{fontFamily:"Arial",fontSize:20,color:"#000000"}).setOrigin(.5)),e[1].setDepth(4);for(var n=0;n<H;n++)ut(n);ot=!0}(e):ft()}():function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=!1,r=Math.floor(t/tt),s=Math.floor(e/tt),l=0;l<Z.length;l++)Z[l].destroy();var f=a.add.image(t,e,"overlay");f.setOrigin(1),f.setScale(1),Z.push(f),s-i>1&&Y[r][s-i]&&(gt(t,e-tt,1,i,!1),o=!0),s+i<Q&&Y[r][s+i]&&(gt(t,e+i*tt,1,i),o=!0),r-i>0&&Y[r-i][s]&&(gt(t-tt,e,i,1,!1),o=!0),r+i<=N&&Y[r+i][s]&&(gt(t+tt*i,e,i),o=!0),X=i,o||ct(n+1)}(K[et].x,K[et].y,e,t),e}function ut(t){a.add.text(189,398+36*t,B[t],{fontFamily:"Arial",fontSize:20,color:"#000000"}).setOrigin(.5).setDepth(5),a.add.text(478,398+36*t,it[t],{fontFamily:"Arial",fontSize:20,color:"#000000"}).setOrigin(.5).setDepth(5),a.add.text(767,398+36*t,"0",{fontFamily:"Arial",fontSize:20,color:"#000000"}).setOrigin(.5).setDepth(5)}function pt(){new s.a.Game({type:s.a.AUTO,width:960,height:576,zoom:1,parent:"game-container",scene:[L,st]})}i.d(e,"launch",function(){return pt});e.default=pt}}]);
//# sourceMappingURL=game.bundle.js.map